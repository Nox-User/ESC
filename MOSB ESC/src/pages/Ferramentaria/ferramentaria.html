<!DOCTYPE html>
<html lang="pt-br">

  <head>
    <meta charset="utf-8"/>
    <title>MOSB ESC</title>
    <link rel="stylesheet" href="../../css/ferramentaria.css">
    <link rel="stylesheet" href="../../css/menu.css">
  </head>
  
  <body>
    <nav id="navigation">
      <a href="../../../public/index.html" class="logo"> MOSB ESC<span>+</span></a>
      <ul class="links">
        <li><a href="#">Sobre</a></li>
        <li class="dropdown"><a href="#" class="trigger-drop">Mais Info<i class="arrow"></i></a>
          <ul class="drop">
            <li><a href="#">Férias</a></li>
            <li><a href="#">Atividades</a></li>
          </ul>
        </li>
        <li class="dropdown"><a href="#" class="trigger-drop">Contatos<i class="arrow"></i></a>
          <ul class="drop">
            <li><a href="#">E-mail</a></li>
            <li><a href="#">Telefone</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <div class="container">
      <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'controleEstoque')">Controle de Estoque</button>
        <button class="tablinks" onclick="openTab(event, 'solicitacaoCompra')">Solicitação de Compra</button>
        <button class="tablinks" onclick="openTab(event, 'historicoRetiradas')">Histórico de Retiradas</button>
      </div>

      <div id="controleEstoque" class="tabcontent active">

        <div class="form-group">
          <label for="productCode">Código do Produto</label>
          <input id="productCode" type="text"/>
        </div>

        <div class="form-group">
          <label for="productName">Nome do Produto</label>
          <input id="productName" type="text"/>
        </div>

        <div class="form-group">
          <label for="productQuantity">Quantidade</label>
          <input class="quant-inv" id="productQuantity" type="number" min="1" step="1"/>
        </div>

        <button class="action-button" onclick="addItem()">Cadastrar Item</button>
        <button class="action-button" onclick="addStock()">Adicionar ao Estoque</button>
        <button class="action-button" onclick="abrirModalRetirada()">Retirar do Estoque</button>


        <h2>ESTOQUE</h2>
        <table id="inventoryTable">

          <div class="form-group">
            <label for="filterInput">Pesquisar Produto</label>
            <input type="text" id="filterInput" placeholder="Digite código ou nome para buscar..."/>
          </div>

          <thead>
            <tr>
              <th>Código do Produto</th>
              <th>Nome do Produto</th>
              <th>Quantidade</th>
              <th>Processo</th>
            </tr>
          </thead>

          <tbody></tbody>

        </table>

      </div>

      <div id="solicitacaoCompra" class="tabcontent">

        <div class="form-group">
          <label for="purchaseProductCode">Código do Produto</label>
          <input id="purchaseProductCode" type="text"/>
        </div>

        <div class="form-group">
          <label for="purchaseProductName">Nome do Produto</label>
          <input id="purchaseProductName" type="text"/>
        </div>

        <div class="form-group">
          <label for="purchaseQuantity">Quantidade</label>
          <input class="quant-sale" id="purchaseQuantity" type="number" min="1" step="1"/>
        </div>

        <button class="action-button" onclick="requestPurchase()">Solicitar Compra</button>

        <table id="purchaseTable">
          <thead>
            <tr>
              <th>Código do Produto</th>
              <th>Nome do Produto</th>
              <th>Quantidade</th>
              <th>Status</th>
            </tr>
          </thead>

          <tbody></tbody>

        </table>

      </div>
    

      <div id="historicoRetiradas" class="tabcontent">

        <div class="form-group" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: flex-end;">

          <div>
            <label for="filtroSetor">Filtrar por Setor</label>
            <input type="text" id="filtroSetor" placeholder="Digite o setor">
          </div>

          <div>
            <label for="filtroDataInicio">Data Início</label>
            <input type="date" id="filtroDataInicio">
          </div>

          <div>
            <label for="filtroDataFim">Data Fim</label>
            <input type="date" id="filtroDataFim">
          </div>

          <button class="action-button" onclick="aplicarFiltrosRetirada()">Aplicar Filtros</button>
          <button class="action-button" style="background-color: gray;" onclick="limparFiltrosRetirada()">Limpar</button>

        </div>

        <table id="retiradaTable">

          <thead>
            <tr>
              <th>Data</th>
              <th>Código</th>
              <th>Produto</th>
              <th>Quantidade</th>
              <th>Responsável</th>
              <th>Setor</th>
              <th>Motivo</th>
            </tr>
          </thead>

          <tbody></tbody>

        </table>

      </div>

    </div>

    <script type="module" src="https://nox-user.github.io/MOSB-PIE/script_ferramentaria.js"></script>

    <div id="retiradaModal" class="modal-overlay">

      <div class="modal">

        <h2>Informações da Retirada</h2>

        <div class="form-group">
          <label for="responsavelRetirada">Quem está retirando?</label>
          <input type="text" id="responsavelRetirada" placeholder="Nome do responsável">
        </div>

        <div class="form-group">
          <label for="setorRetirada">Setor</label>
          <input type="text" id="setorRetirada" placeholder="Setor">
        </div>

        <div class="form-group">
          <label for="motivoRetirada">Motivo da Retirada</label>
          <input type="text" id="motivoRetirada" placeholder="Motivo">
        </div>

        <button class="action-button" onclick="confirmarRetirada()">Confirmar</button>
        <button class="action-button" style="background-color: gray;" onclick="fecharModal()">Cancelar</button>

      </div>

    </div>

    <div id="confirmRemoveModal" class="modal-overlay">

      <div class="modal">

        <h3 style="margin-bottom: 20px;">Deseja realmente remover este item do estoque?</h3>

        <div style="display: flex; justify-content: flex-end; gap: 10px;">
          <button class="action-button" style="background-color: #d9534f;" onclick="confirmarRemocao()">Sim, Remover</button>
          <button class="action-button" onclick="fecharModalRemocao()">Cancelar</button>
        </div>

      </div>

    </div>

  </body>
  
</html>